package app.IM;import app.IM.SessionManager;import app.IM.Dispatcher;import net.cellcloud.common.Logger;import net.cellcloud.core.Cellet;import net.cellcloud.core.CelletFeature;import net.cellcloud.core.CelletVersion;import net.cellcloud.talk.Primitive;import net.cellcloud.talk.dialect.ActionDialect;public class MessageCellet extends Cellet {	private Dispatcher dispatcher;	public MessageCellet() {		super(new CelletFeature("IM", new CelletVersion(1, 0, 0)));		this.dispatcher = new Dispatcher(this);	}	public MessageCellet(CelletFeature feature) {		super(feature);		// TODO Auto-generated constructor stub	}		@Override	public void activate() {	}	@Override	public void deactivate() {		SessionManager.getInstance().stop();	}	@Override	public void dialogue(String tag, Primitive primitive) {		if (primitive.isDialectal()) {			ActionDialect dialect = (ActionDialect) primitive.getDialect();			this.dispatcher.dispatch(dialect);		}		else {			Logger.e(this.getClass(), "dialogue data error");		}	}}